# ==============================================================================
# Ref: "Alpha 101"
# Alpha#54:
# -1 * ( (low - close) * open^5 ) / ( (low -high) * close^5 ) 
#      |---------- 1 ------------|  |---------- 1 ----------|
# |----------------------------- 2 -------------------------| 

# 算法
# 1.分别计算
# 2.两者相除
#
# 含义
# 
# 
# 关联：
# 
# ==============================================================================


# ------------------------------------------------------------------------------
## Alpha Name
alphaName <- 'alpha101_54'

## 需要去除的日期
truncatedTD <- 0


# ==========: 提取dtX ===============================================================================
# ------------------------------------------------------------------------------
# dtX
# ------------------------------------------------------------------------------ 

# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
dtX <- inSample[, .SD[.N > truncatedTD]
                , by = 'InstrumentID'] %>%
        .[,":="(mySignal = (low - close)*close^5 / ((low - high + 0.00001)*open^5)
                )
          ,by = c('TradingDay','InstrumentID')] %>%
        .[, mySignal := (mySignal - mean(mySignal)) / sd(mySignal) * sqrt(.N)]
# ==================================================================================================
